<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>기관 분류 민원 목록</title>
  <style>
    body {
      font-family: 'Noto Sans KR', sans-serif;
      background-color: #f4f7fc;
      color: #333;
      line-height: 1.6;
      padding: 40px 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
    }

    body::before {
      content: "민원 접수 시스템";
      display: block;
      background-color: #1d428a;
      color: white;
      padding: 20px;
      text-align: center;
      font-size: 1.8rem;
      font-weight: bold;
      margin-bottom: 30px;
      width: 100%;
    }

    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding-top: 20px;
      width: 100%;
    }

    .staff-container {
      display: flex;
      width: 95%;
      max-width: 1400px;
      gap: 20px;
    }

    .left {
      flex: 1;
      padding: 20px;
      border: 1px solid #ccc;
      border-radius: 8px;
      background-color: #fff;
      overflow-y: auto;
    }

    .right {
      flex: 2;
      padding: 20px;
      border: 1px solid #ccc;
      border-radius: 8px;
      background-color: #fff;
      overflow-y: auto;
    }

    h2 {
      margin-top: 0;
      margin-bottom: 15px;
    }

    .dropdown {
      margin-bottom: 15px;
    }

    .dropdown-btn {
      padding: 10px;
      border: 1px solid #ccc;
      width: 100%;
      cursor: pointer;
      background-color: white;
      border-radius: 4px;
    }

    .dropdown-content {
      display: none;
      border: 1px solid #ccc;
      background-color: #f9f9f9;
      max-height: 300px;
      overflow-y: auto;
      position: relative;
      z-index: 1;
      margin-top: 5px;
    }

    .dropdown-content label {
      display: block;
      padding: 6px;
      cursor: pointer;
    }

    .dropdown-content input {
      margin-right: 5px;
    }

    .show {
      display: block;
    }

    button {
      margin-top: 10px;
      padding: 12px 24px;
      width: 100%;
      cursor: pointer;
      background-color: #1d428a;
      color: white;
      border: none;
      border-radius: 4px;
      font-size: 15px;
      transition: background-color 0.2s;
    }

    button:hover {
      background-color: #0f2a5f;
    }

    .complaint {
      background: #f2f2f2;
      padding: 15px;
      margin-bottom: 10px;
      border-left: 4px solid #007bff;
      border-radius: 4px;
      word-wrap: break-word;
      overflow-wrap: break-word;
    }
  </style>
</head>
<body>
<div class="container">
  <div class="staff-container">
    <div class="left">
      <div class="dropdown">
        <select id="mainCategory" onchange="updateSubDropdown()">
          <option value="">-- 분류 선택 --</option>
          <option value="central">중앙행정기관</option>
          <option value="local">광역자치단체</option>
          <option value="simple">기초자치단체</option>
          <option value="study">교육청</option>
          <option value="are">공공기관</option>
        </select>
      </div>
      <input type="text" id="agencySearch" placeholder="세부기관명을 검색하세요..." style="padding: 8px; margin-bottom: 10px; width: 100%;">
      <div class="dropdown">
        <div class="dropdown-btn" onclick="toggleDropdown()">세부 기관 선택</div>
        <div class="dropdown-content" id="subCategoryBox"></div>
      </div>
      <button onclick="filterComplaints()">조건 검색</button>
      <!-- 기존 버튼 삭제 -->
	<a href="index.html" class="button">이전 화면으로</a>

    </div>
    <div class="right">
      <h2>민원 목록</h2>
      <div id="complaintList"></div>
    </div>
  </div>
</div>

<script>
const subCategories = {
  central: [
        "10.29이태원참사진상규명과재발방지를위한특별조사위원회", "개인정보보호위원회", "경찰청", "고용노동부", "고위공직자범죄수사처", "공정거래위원회", "과학기술정보통신부", "관세청", "교육부", "국가건축정책위원회",
    "국가경찰위원회", "국가교육위원회", "국가바이오위원회", "국가보훈부", "국가안보실", "국가유산청", "국가인공지능위원회", "국가인권위원회", "국가정보원", "국무조정실",
    "국무총리비서실", "국민권익위원회", "국민대통합위원회", "국민통합위원회", "국방부", "국세청", "국정기획자문위원회", "국토교통부", "국회", "금융위원회",
    "기상청", "기획재정부", "농림축산식품부", "농어업농어촌특별위원회", "농촌진흥청", "대검찰청", "대구경북경제자유구역청", "대법원", "대통령경호처", "대통령비서실",
    "대통령직인수위원회", "디지털플랫폼정부위원회", "문화체육관광부", "민주평화통일자문회의사무처", "방송통신위원회", "방위사업청", "법무부", "법제처", "병무청", "보건복지부",
    "부마민주항쟁진상규명및관련자명예회복심의위원회", "부산.진해경제자유구역청", "산림청", "산업통상자원부", "새만금개발청", "소방청", "식품의약품안전처", "여성가족부", "여수.순천10.19사건진상규명및희생자명예회복위원회", "외교부",
    "우주항공청", "원자력안전위원회", "인사혁신처", "재외동포청", "저출산고령사회위원회", "정책기획위원회", "제20대대통령취임행사위원회", "조달청", "중소벤처기업부", "지방시대위원회",
    "진실화해를위한과거사정리위원회", "질병관리청", "통계청", "통일부", "특허청", "해양경찰청", "해양수산부", "행정안전부", "행정자치부 생활공감", "행정중심복합도시건설청",
    "환경부", "기타(페조직 등 )" ],

      local: ["강원특별자치도", "경기도", "경상남도", "경상북도", "광주광역시", "대구광역시", "대전광역시", "부산광역시", "서울특별시", "세종특별자치시",
    "울산광역시", "인천광역시", "전라남도", "전북특별자치도", "제주특별자치도", "충청남도", "충청북도"],

      simple: ["강원특별자치도", "경기도", "경상남도", "경상북도", "광주광역시", "대구광역시", "대전광역시", "부산광역시", "서울특별시", "세종특별자치시",
    "울산광역시", "인천광역시", "전라남도", "전북특별자치도", "제주특별자치도", "충청남도", "충청북도"],

      study: [ "강원특별자치도교육청", "경기도교육청", "경상남도교육청", "경상북도교육청", "광주광역시교육청", "대구광역시교육청", "대전광역시교육청", "부산광역시교육청", "서울특별시교육청", "세종특별자치시교육청",
    "울산광역시교육청", "인천광역시교육청", "전라남도교육청", "전북특별자치도교육청", "제주특별자치도교육청", "충청남도교육청", "충청북도교육청"],
      are: ["(사)남북교류협력지원협회", "(재)경기도수원월드컵경기장관리재단", "(재)체육인재육성재단", "(주)강원랜드", "88관광개발", "KATRI시험연구원", "㈜공영홈쇼핑", "㈜에스알", "㈜인천대교", "가축위생방역지원본부",
    "강남구도시관리공단", "강동구도시관리공단", "강화군시설관리공단", "거제해양관광개발공사", "건강보험심사평가원", "건설근로자공제회", "게임물관리위원회", "경기고속도로(주)", "경기관광공사", "경기교통공사",
    "경기남부도로", "경기도경제과학진흥원", "경기도농수산진흥원", "경기도도로정책과", "경기도시장상권진흥원", "경기도여성가족재단", "경기도의료원", "경기도일자리재단", "경기도장애인체육회", "경기도체육회",
    "경기도학교안전공제회", "경기동서순환도로㈜", "경기문화재단", "경기신용보증재단", "경기아트센터", "경기주택도시공사", "경기철도(주)", "경기콘텐츠진흥원", "경기평택항만공사", "경남개발공사",
    "경상북도개발공사", "경상북도문화관광공사", "경수고속도로㈜", "경제인문사회연구회", "경주시시설관리공단", "고양도시관리공사", "고양문화재단", "공무원연금공단", "공항철도(주)", "과천도시공사",
    "광명도시공사", "광주과학기술원", "광주광역시도시공사", "광주교통공사", "광주도시관리공사", "광주북구시설관리공단", "광주서구시설관리공단", "광주환경공단", "구리농수산물공사", "구미도시공사",
    "국가과학기술연구회", "국가유산진흥원", "국가철도공단", "국가평생교육진흥원", "국립공원공단", "국립광주과학관", "국립낙동강생물자원관", "국립대구과학관", "국립박물관문화재단", "국립생태원",
    "국립암센터", "국립중앙의료원", "국립항공박물관", "국립해양과학관", "국립해양박물관", "국립해양생물자원관", "국립호남권생물자원관", "국민건강보험공단", "국민연금공단", "국민체육진흥공단",
    "국방과학연구소", "국방기술진흥연구소", "국방기술품질원", "국악방송", "국제방송교류재단", "국제식물검역인증원", "국토안전관리원", "국토연구원", "그랜드코리아레저(주)", "극지연구소",
    "근로복지공단", "금융감독원", "금융결제원", "금천구시설관리공단", "기술보증기금", "기장군도시관리공단", "김천시시설관리공단", "김포도시관리공사", "김해문화관광재단", "김해시도시개발공사",
    "남동구도시관리공단", "남양주도시공사", "노사발전재단", "농림수산식품교육문화정보원", "농림식품기술기획평가원", "농업정책보험금융원", "농협중앙회", "단양관광공사", "대구경북과학기술원", "대구공공시설관리공단",
    "대구교통공사", "대구도시개발공사", "대전관광공사", "대전광역시시설관리공단", "대전교통공사", "대전도시공사", "대전평생교육진흥원", "대전환경사업지방자치단체조합", "대한무역투자진흥공사", "대한법률구조공단",
    "대한변호사협회", "대한석탄공사", "대한장애인체육회", "대한적십자사", "대한체육회", "독립기념관", "동남권원자력의학원", "동북아역사재단", "동해시시설관리공단", "무역안보관리원",
    "문경관광진흥공단", "미추홀구시설관리공단", "밀양시시설관리공단", "방송통신심의위원회", "별정우체국연금관리단", "부산관광공사", "부산광역시남구시설관리공단", "부산교통공사", "부산도시공사", "부산시설공단",
    "부산신항제이배후도로주식회사", "부산울산고속도로주식회사", "부산항만공사", "부산항보안공사", "부산환경공단", "부천도시공사", "북한이탈주민지원재단", "사립학교교직원연금공단", "사회보장정보원", "산림조합중앙회",
    "상주영천고속도로주식회사", "새서울철도(주)", "서민금융진흥원", "서부내륙고속도로", "서서울고속도로㈜", "서울고속도로㈜", "서울교통공사", "서울문산고속도로㈜", "서울북부고속도로(주)", "서울춘천고속도로",
    "서울특별시학교안전공제회", "선박해양플랜트연구소", "성남도시개발공사", "성남시의료원", "세종도시교통공사", "세종인재평생교육진흥원", "세종특별자치시시설관리공단", "세종학당재단", "소망교도소", "소상공인시장진흥공단",
    "속초시시설관리공단", "수도권매립지관리공사", "수도권서부고속도로", "수원도시공사", "수원문화재단", "수자원환경산업진흥(주)", "수협중앙회", "시청자미디어재단", "시흥도시공사", "식품안전정보원",
    "신공항하이웨이㈜", "신대구부산고속도로주식회사", "신분당선(주)", "신용보증기금", "신용보증재단중앙회", "신용회복위원회", "아동권리보장원", "아산시시설관리공단", "아시아태평양경제협력체기후센터", "안산도시공사",
    "양산시시설관리공단", "양주도시공사", "언론중재위원회", "에너지경제연구원", "여수광양항만공사", "여수시도시관리공단", "여주도시공사", "연구개발특구진흥재단", "영상물등급위원회", "영월군시설관리공단",
    "영화진흥위원회", "예금보험공사", "예술의전당", "오산도시공사", "옥산오창고속도로", "완주문화재단", "용인도시공사", "용인문화재단", "용인시청소년미래재단", "우체국물류지원단",
    "우체국시설관리단", "울산과학기술원", "울산광역시 중구 도시관리공단", "울산광역시남구도시관리공단", "울산광역시도시공사", "울산광역시북구시설관리공단", "울산시설공단", "울산항만공사", "울잔군의료원", "울주군시설관리공단",
    "울진군의료원", "원주문화재단", "원주시시설관리공단", "의료기관평가인증원", "의왕도시공사", "의정부도시공사", "의정부시자원봉사센터", "이천시시설관리공단", "익산시도시관리공단", "인천관광공사",
    "인천광역시사회서비스원", "인천광역시장애인체육회", "인천광역시체육회", "인천교통공사", "인천국제공항공사", "인천김포고속도로", "인천도시공사", "인천시설공단", "인천항만공사", "인천환경공단",
    "일제강제동원피해자지원재단", "자동차손해배상진흥원", "재단법인금정문화재단", "재외동포재단", "전남개발공사", "전북개발공사", "전북대학교병원", "전주시시설관리공단", "정보통신산업진흥원", "정부법무공단",
    "제삼경인고속도로", "제이경인연결고속도로(주)", "제이서해안고속도로㈜", "제이영동고속도로㈜", "제주국제자유도시개발센터", "제주문화예술재단", "제주콘텐츠진흥원", "제주특별자치도사회서비스원", "제주특별자치도장애인체육회", "제주특별자치도체육회",
    "주택관리공단", "주택도시보증공사", "중소기업기술정보진흥원", "중소기업은행", "중소벤처기업진흥공단", "진안군의료원", "창업진흥원", "창원시설공단", "천안논산고속도로㈜", "천안도시공사",
    "천안의료원", "청와대재단", "청주시시설관리공단", "축산물안전관리인증원", "축산물품질평가원", "춘천도시공사", "춘천문화재단", "충남혁신도시조합", "충북개발공사", "충주시시설관리공단",
    "충청남도개발공사", "충청남도공주의료원", "충청남도서산의료원", "코레일관광개발", "코레일네트웍스", "코레일유통", "킨텍스", "태권도진흥재단", "테스트국권위", "통일준비위원회",
    "평택도시공사", "포천화도고속도로주식회사", "포항시시설관리공단", "하남도시공사", "학교법인한국폴리텍", "한국가스공사", "한국가스기술공사", "한국가스안전공사", "한국개발연구원", "한국거래소",
    "한국건강가정진흥원", "한국건설생활환경시험연구원", "한국계량측정협회", "한국고용노동교육원", "한국고용정보원", "한국고전번역원", "한국공정거래조정원", "한국공항공사", "한국과학기술기획평가원", "한국과학기술연구원",
    "한국과학기술원", "한국과학기술원부설고등과학원", "한국과학창의재단", "한국관광공사", "한국광해광업공단", "한국교육개발원", "한국교육과정평가원", "한국교육학술정보원", "한국교직원공제회", "한국교통안전공단",
    "한국국제교류재단", "한국국제협력단", "한국국토정보공사", "한국기계전기전자시험연구원", "한국기상산업기술원", "한국남동발전", "한국남부발전", "한국농수산식품유통공사", "한국농어촌공사", "한국농업기술진흥원",
    "한국농촌경제연구원", "한국데이터산업진흥원", "한국도로공사", "한국도로공사서비스(주)", "한국도로교통공단", "한국도박문제예방치유원", "한국도자재단", "한국동서발전", "한국등산트레킹지원센터", "한국로봇산업진흥원",
    "한국마사회", "한국무역보험공사", "한국문학번역원", "한국문화관광연구원", "한국문화예술교육진흥원", "한국문화예술위원회", "한국문화정보원", "한국물기술인증원", "한국방송광고진흥공사", "한국방송통신전파진흥원",
    "한국법무보호복지공단", "한국법제연구원", "한국벤처투자", "한국보건복지인재원", "한국보건사회연구원", "한국보건산업진흥원", "한국보건의료연구원", "한국보건의료인국가시험원", "한국보훈복지의료공단", "한국부동산원",
    "한국사학진흥재단", "한국사회보장정보원", "한국사회적기업진흥원", "한국산림복지진흥원", "한국산업기술기획평가원", "한국산업기술시험원", "한국산업기술진흥원", "한국산업단지공단", "한국산업안전보건공단", "한국산업은행",
    "한국산업인력공단", "한국생명공학연구원", "한국생산기술연구원", "한국서부발전(주)", "한국석유공사", "한국석유관리원", "한국섬진흥원", "한국세라믹기술원", "한국소방산업기술원", "한국소방안전원",
    "한국소비자원", "한국수력원자력(주)", "한국수목원정원관리원", "한국수산자원공단", "한국수자원공사", "한국수출입은행", "한국스마트그리드사업단", "한국승강기안전공단", "한국승강기안전관리원", "한국승강기안전기술원",
    "한국식품안전관리인증원", "한국식품연구원", "한국식품연구원부설세계김치연구소", "한국양성평등교육진흥원", "한국어촌어항공단", "한국언론진흥재단", "한국에너지공단", "한국에너지기술평가원", "한국에너지재단", "한국여성인권진흥원",
    "한국여행업협회(KATA)", "한국영상자료원", "한국예술인복지재단", "한국예탁결제원", "한국우편사업진흥원", "한국원자력안전기술원", "한국원자력안전재단", "한국원자력연구원", "한국원자력의학원", "한국원자력통제기술원",
    "한국원자력환경공단", "한국은행", "한국의료기기안전정보원", "한국의료분쟁조정중재원", "한국의약품안전관리원", "한국인터넷진흥원", "한국임업진흥원", "한국자산관리공사", "한국자활복지개발원", "한국잡월드",
    "한국장기조직기증원", "한국장애인개발원", "한국장애인고용공단", "한국장학재단", "한국재료연구원", "한국재정정보원", "한국저작권보호원", "한국저작권위원회", "한국전기안전공사", "한국전력거래소",
    "한국전력공사", "한국전력기술", "한국정보통신진흥협회", "한국제품안전관리원", "한국조폐공사", "한국주택금융공사", "한국중부발전주식회사", "한국중소벤처기업유통원", "한국지능정보사회진흥원", "한국지식재산보호원",
    "한국지역난방공사", "한국직업능력연구원", "한국천문연구원", "한국철도공사", "한국철도기술연구원", "한국청소년상담복지개발원", "한국청소년활동진흥원", "한국체육산업개발주식회사", "한국출판문화산업진흥원", "한국콘텐츠진흥원",
    "한국토지주택공사", "한국통신사업자연합회", "한국투자공사", "한국학중앙연구원", "한국항공우주연구원", "한국항로표지기술원", "한국항만협회", "한국해양과학기술원", "한국해양교통안전공단", "한국해양수산개발원",
    "한국해양수산연수원", "한국해양조사협회", "한국해양진흥공사", "한국형사·법무정책연구원", "한국화학융합시험연구원", "한국환경공단", "한국환경보전원", "한국환경산업기술원", "한국환경연구원", "한국희귀의약품센터",
    "한식진흥원", "한전KDN", "한전KPS(주)", "합천군시설관리공단", "해양환경공단", "행정중심복합도시국립박물관단지통합운영지원센터", "홍성의료원", "화성광주고속도로주식회사", "화성도시공사", "화성시여성가족청소년재단",
    "화성시인재육성재단", "가천대학교", "가톨릭대학교", "강릉원주대학교", "강원대학교", "건국대학교", "경기대학교", "경남과학기술대학교", "경남정보대학교", "경북대학교",
    "경상국립대학교", "경상대학교", "경운대학교", "경인교육대학교", "경희대학교", "계명문화대학교", "고신대학교", "공주교육대학교", "광주교육대학교", "구미대학교",
    "국립경국대학교", "국립공주대학교", "국립군산대학교", "국립한국교통대학교", "국립한밭대학교", "국제대학교", "군산대학교", "금오공과대학교", "나사렛대학교", "대구교육대학교",
    "대구대학교", "대림대학교", "대전대학교", "대전보건대학교", "대학", "동국대학교", "동서울대학교", "동의과학대학교", "마산대학교", "명지전문대학",
    "목원대학교", "목포대학교", "목포해양대학교", "백석대학교", "부경대학교", "부산가톨릭대학교", "부산교육대학교", "부산대학교", "부산외국어대학교", "부천대학교",
    "서영대학교", "서울과학기술대학교", "서울교육대학교", "서울대학교", "서원대학교", "서정대학교", "성균관대학교", "수원과학대학교", "숙명여자대학교", "순천대학교",
    "숭실대학교", "신한대학교", "안산대학교", "영남대학교", "우송대학교", "우송정보대학", "원광대학교", "유한대학교", "인천대학교", "인하공업전문대학",
    "전남대학교", "전북대학교", "전주교육대학교", "제주대학교", "중앙대학교", "진주교육대학교", "창원대학교", "청운대학교", "청주교육대학교", "춘천교육대학교",
    "충남대학교", "충북대학교", "평택대학교", "한경국립대학교", "한국교원대학교", "한국기술교육대학교", "한국방송통신대학교", "한국전력국제원자력대학원대학교", "한국체육대학교", "한국해양대학교",
    "한남대학교", "한림대학교", "한밭대학교", "한세대학교", "한양대학교", "한양여자대학교", "호원대학교", "홍익대학교", "감사원", "법원행정처(대법원)",
    "중앙선거관리위원회", "중앙선거관리위원회(정원)", "헌법재판소", "헌법재판소(정원)", "기타(페조직 등 )"]
};

function updateSubDropdown() {
  const selectedMain = document.getElementById("mainCategory").value;
  const subBox = document.getElementById("subCategoryBox");
  subBox.innerHTML = '';

  if (selectedMain && subCategories[selectedMain]) {
    subCategories[selectedMain].forEach(item => {
      const label = document.createElement("label");
      label.innerHTML = '<input type="checkbox" value="' + item + '"> ' + item;
      subBox.appendChild(label);
    });
  }
}

function toggleDropdown() {
  document.getElementById("subCategoryBox").classList.toggle("show");
}

function filterComplaints() {
  const checked = document.querySelectorAll('#subCategoryBox input[type="checkbox"]:checked');
  const selectedNames = Array.from(checked).map(cb => cb.value);
  const all = document.querySelectorAll('.complaint');

  all.forEach(div => {
    const agency = div.getAttribute("data-agency");
    div.style.display = selectedNames.includes(agency) || selectedNames.length === 0 ? "block" : "none";
  });
}

document.getElementById("agencySearch").addEventListener("input", function () {
  const keyword = this.value.trim();
  const subBox = document.getElementById("subCategoryBox");
  if (!subBox.classList.contains("show")) {
    subBox.classList.add("show");
  }
  const allLabels = subBox.querySelectorAll("label");
  allLabels.forEach(label => {
    const text = label.textContent || "";
    label.style.display = text.includes(keyword) ? "block" : "none";
  });
});

function goBack() {
  if (window.opener) {
    window.opener.focus();
    window.close();
  } else {
    window.location.href = "index.html";
  }
}

window.onload = function () {
  const complaintList = document.getElementById("complaintList");
  const storedComplaints = JSON.parse(localStorage.getItem("complaints")) || [];

  complaintList.innerHTML = "";

  if (storedComplaints.length === 0) {
    complaintList.innerHTML = "<p>저장된 민원이 없습니다.</p>";
    return;
  }

  storedComplaints.forEach(complaint => {
    const div = document.createElement("div");
    div.className = "complaint";
    div.setAttribute("data-agency", complaint.department || "기관 없음");

    div.innerHTML = `
      <strong>기관:</strong> ${complaint.department || "기관 없음"}<br />
      <strong>신청인:</strong> ${complaint.name || "이름 없음"}<br />
      <strong>내용:</strong> ${complaint.complaint || "내용 없음"}
    `;

    complaintList.appendChild(div);
  });
};

window.onclick = function(e) {
  if (!e.target.closest('.dropdown')) {
    document.getElementById("subCategoryBox").classList.remove("show");
  }
};
</script>
</body>
</html>
